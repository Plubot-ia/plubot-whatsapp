# Server Configuration
PORT=3001
HOST=0.0.0.0
# Fly.io internal URL
INTERNAL_URL=https://plubot-whatsapp.fly.dev

# Frontend Configuration (Production)
ALLOWED_ORIGINS=https://plubot.com,https://www.plubot.com
NODE_ENV=production

# Security - JWT (Use Fly secrets)
JWT_SECRET=${FLY_JWT_SECRET}
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Security - API Key (Use Fly secrets)
API_KEY=${FLY_API_KEY}

# Security - Encryption (Use Fly secrets)
ENCRYPTION_KEY=${FLY_ENCRYPTION_KEY}

# Redis Configuration (Use Upstash or Fly Redis)
REDIS_URL=${FLY_REDIS_URL}
REDIS_DB=0
REDIS_KEY_PREFIX=whatsapp:prod:

# Rate Limiting (Production values)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_MESSAGE_MAX=30
RATE_LIMIT_SESSION_CREATE_MAX=5

# Session Configuration
SESSION_TIMEOUT=300000
SESSION_RETRY_DELAY=5000
SESSION_MAX_RETRIES=3
SESSION_POOL_SIZE=100
SESSION_EVICTION_TIME=3600000

# Logging Configuration
LOG_LEVEL=info
LOG_DIR=/data/logs
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d
LOG_DATE_PATTERN=YYYY-MM-DD

# WebSocket Configuration
WS_PING_INTERVAL=25000
WS_PING_TIMEOUT=60000
WS_MAX_CONNECTIONS=1000

# Storage Paths (Fly.io persistent volume)
STORAGE_PATH=/data/storage
BACKUP_PATH=/data/backups
TEMP_PATH=/data/temp

# Feature Flags
ENABLE_WEBHOOKS=true
ENABLE_MESSAGE_QUEUE=true
ENABLE_AUTO_RECONNECT=true
ENABLE_SESSION_POOLING=true

# Monitoring
ENABLE_METRICS=true
METRICS_PORT=9090

# External Services
WEBHOOK_URL=${FLY_WEBHOOK_URL}
WEBHOOK_SECRET=${FLY_WEBHOOK_SECRET}
